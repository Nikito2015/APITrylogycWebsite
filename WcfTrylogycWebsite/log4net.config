<?xml version="1.0"?>
<configuration>

  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net" />
  </configSections>
  <log4net>
    <appender name="TraceAppender" type="log4net.Appender.TraceAppender" >
      <layout type="log4net.Layout.PatternLayout">
        <param name="ConversionPattern" value="%d{yyyy-MM-dd HH:mm:ss} [%property{userIP}] [%property{sessionID}] [%-5p] [%t] %C{0}.%M: %m%n"/>
      </layout>
    </appender>
    <root>
      <level value="ALL" />
      <appender-ref ref="TraceAppender" />
    </root>

    <!-- LOG - DAL-->
    <appender name="DalAppender" type="log4net.Appender.RollingFileAppender">
      <file value="Log\WCF.log" />
      <appendToFile value="true" />
      <rollingStyle value="Size" />
      <maxSizeRollBackups value="0" />
      <maximumFileSize value="5MB" />
      <staticLogFileName value="true" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%d{yyyy-MM-dd HH:mm:ss} [%property{userIP}] [%-5p] [%t] %C{0}.%M: %m%n"/>
      </layout>
    </appender>
    <!-- LOG - DAL -->

    <!-- LOG - WCF-->
    <appender name="WCFAppender" type="log4net.Appender.RollingFileAppender">
      <file value="Log\WCF.log" />
      <appendToFile value="true" />
      <rollingStyle value="Size" />
      <maxSizeRollBackups value="0" />
      <maximumFileSize value="500MB" />
      <staticLogFileName value="true" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%d{yyyy-MM-dd HH:mm:ss} [%property{userIP}] [%-5p] [%t] %C{0}.%M: %m%n"/>
      </layout>
      <threshold value="INFO" />
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="INFO"/>
        <param name="LevelMax" value="FATAL"/>
      </filter>
      <threshold value="INFO" />
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="INFO"/>
        <param name="LevelMax" value="FATAL"/>
      </filter>
      <threshold value="INFO" />
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="INFO"/>
        <param name="LevelMax" value="FATAL"/>
      </filter>
    </appender>
    <!-- LOG - WCF -->
  
    <!-- LOG - ALL ERRORS -->
    <appender name="AllErrorAppender" type="log4net.Appender.RollingFileAppender">
      <file value="Log\Errors.log" />
      <appendToFile value="true" />
      <rollingStyle value="Size" />
      <maxSizeRollBackups value="0" />
      <maximumFileSize value="5MB" />
      <staticLogFileName value="true" />
      <threshold value="ERROR" />
			<layout type="log4net.Layout.PatternLayout">
				<conversionPattern value="%d{yyyy-MM-dd HH:mm:ss} [%property{userIP}] [%property{sessionID}] [%-5p] [%t] %C{0}.%M: %m%n"/>
			</layout>
      <filter type="log4net.Filter.LevelRangeFilter">
        <param name="LevelMin" value="ERROR"/>
        <param name="LevelMax" value="ERROR"/>
      </filter>
		</appender>
    <!-- LOG - ALL ERRORS -->
   
	<logger name="WcfTrylogycWebsite">
	  <appender-ref ref="WCFAppender" />
	  <appender-ref ref="AllErrorAppender" />
    <appender-ref ref="TimerAppender" />
	</logger>
    
  <logger name="DataAccess">
    <appender-ref ref="WCFAppender" />
    <appender-ref ref="AllErrorAppender" />
    <appender-ref ref="TimerAppender" />
  </logger>
    
  </log4net>

</configuration>
